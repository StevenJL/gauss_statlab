<% content_for :javascript_includes do %>
  <%= javascript_include_tag "anova.js" %>
<% end %>

<div id="p-value-modal" class="modal hide fade in" style="display: none; ">  
  <div class="modal-body"> 
    <h5>P-Value</h5>  
    <p>The p-value is calculated from the test-statistic.  Namely, it's the probability
      of observing this statistic or more extreme values assuming there is no difference
      in the population means. </p>
    <p>If the p-value is small (less than 5% usually), we reject the hypothesis that the
      underlying two populations have equal means.</p>
  </div>  
  <div class="modal-footer">    
    <a href="#" class="btn" data-dismiss="modal">Close</a>  
  </div>  
</div>

<div id="f-stat-modal" class="modal hide fade in" style="display: none; ">  
  <div class="modal-body"> 
    <h5>F-statistic</h5>  
    <p> In One Way Anova, the statistic is derived from variance calculations.
        Namely, the within group variance, between group variance and the total variance, hence
        ANOVA = analysis of variance.  This test-statistic follows an F-distribution.
        In fact, a F random variable is a T random variable squared.</p>
  </div>  
  <div class="modal-footer">    
    <a href="#" class="btn" data-dismiss="modal">Close</a>  
  </div>  
</div>

<div id="anova-modal" class="modal hide fade in" style="display: none; ">  
  <div class="modal-body"> 
    <h5>ANOVA</h5>  
    <p>ANOVA is short for "Analysis of Variance" (variance is a measure of
      spread; it's the square of standard deviation). ANOVA is a generalization
      of the two sample t-test.  Instead of testing whether or not two
      populations have equal means from their samples, ANOVA simultaneously
      tests multiple populations. It does this by inferring on three 
      variance calculations: within group variance, between group variance
      and total variance.  Note ANOVA can only test whether or not the means of a 
      set of populations are equal.  We need to do more work to determine
      which population(s) has greater mean(s). </p>
    <p>For example, a medical researcher may ask if a new set of blood pressure
      reduction drugs is more effective than the current drug.  The groups here 
      can be randomly assigned patients on the old drug and 
      groups of randomly assigned patients on the new drugs.
    </p>
    <a href="http://en.wikipedia.org/wiki/Analysis_of_variance">For more information on ANOVA</a>    
  </div>
  <div class="modal-footer">    
    <a href="#" class="btn" data-dismiss="modal">Close</a>  
  </div>  
</div>

<div class="leaderboard results">  
  <div class="row-fluid">
    <div class="span12">
      <table>
        <tr><td data-toggle="modal" href="#f-stat-modal" class="stat-label-modal" >F-Statistic:</td><td id="f-stat"></td>
            <td></td>
            <td data-toggle="modal" href="#p-value-modal" class="stat-label-modal" >P-Value:</td><td id="p-value"></td>
        </tr>
      </table>
    </div>
      <div class="span12 graph"></div>
  </div>
</div>

<div class="form-actions">  
  <button type="button" class="btn btn-primary" id="compute-button">Compute</button>  
</div>
<div class="row-fluid">  
  <div class="span12">
    <form class="form-horizontal">  
      <fieldset>
        <div class="row offset1"><h4 data-toggle="modal" href="#anova-modal" class="title-label-modal" >One Way ANOVA</h4></div>
        <div class="row offset1" style="padding: 20px; margin-left: 50px; padding-bottom: 30px;" >
          <div class="span10">
            Enter you data in the fields below.  You can also add groups with the "add group" button.
          </div>  
        </div>
        <div class="control-group">  
          <label class="control-label" for="textarea1">Group 1</label>  
          <div class="controls">  
            <textarea class="input-xlarge" id="textarea1" rows="3">1,2,3,4,5,6</textarea>  
          </div>
        </div>  
        <div class="control-group">
          <label class="control-label" for="textarea2">Group 2</label>
          <div class="controls">  
            <textarea class="input-xlarge" id="textarea2" rows="3">5,6,5,6,7,8,7,6,9</textarea>  
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="textarea2">Group 3</label>
          <div class="controls">  
            <textarea class="input-xlarge" id="textarea3" rows="3">4,5,3,1,1,2,3,4</textarea>  
          </div>
        </div>        
      </fieldset>
      <div class="form-actions">  
        <button type="button" class="btn btn-primary" id="add-field-button">Add Group</button>  
      </div>
    </form> 
  </div>
</div>