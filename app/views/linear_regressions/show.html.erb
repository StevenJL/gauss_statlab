<% content_for :javascript_includes do %>
  <%= javascript_include_tag "linear_regression.js" %>
<% end %>

<div id="reg-line-modal" class="modal hide fade in" style="display: none; ">  
  <div class="modal-body"> 
    <h5>Regression Line</h5>  
    <p> The regression line is the line which best fits data in the sense
      that it minimizes the sum of the squares of the residuals.
    </p>
    <p> It's calculated as follows: The slope is 
        \[ r \frac{s_y}{s_x} \]
        and the intercept is found by setting the line so that it
        goes through the point of averages \[ (\bar x , \bar y) \]
    </p>
  </div>  
  <div class="modal-footer">    
    <a href="#" class="btn" data-dismiss="modal">Close</a>  
  </div>  
</div>

<div id="reg-line-modal" class="modal hide fade in" style="display: none; ">  
  <div class="modal-body"> 
    <h5>Regression Line</h5>  
    <p> The regression line is the line which best fits data in the sense
      that it minimizes the sum of the squares of the residuals.
    </p>
    <p> It's calculated as follows: The slope is 
        \[ r \frac{s_y}{s_x} \]
        and the intercept is found by setting the line so that it
        goes through the point of averages \[ (\bar x , \bar y) \]
    </p>
  </div>  
  <div class="modal-footer">    
    <a href="#" class="btn" data-dismiss="modal">Close</a>  
  </div>  
</div>

<div id="correlation-modal" class="modal hide fade in" style="display: none; ">  
  <div class="modal-body"> 
    <h5>Correlation</h5>  
    <p> The correlation between two sets of data measures the strength
      of the linear relationship between them.  Correlation values range
      from -1 to 1, with -1 and 1 indicating an absolute linear relationship
      and 0 indicating no linear relationship.
    </p>
    <p> It's calculated as follows: 
        \[ \sum_{i=1}^{n} \frac{x_i - \bar x}{s_x} \frac{y_i - \bar y}{s_y} \]
    </p>
  </div>  
  <div class="modal-footer">    
    <a href="#" class="btn" data-dismiss="modal">Close</a>  
  </div>  
</div>

<div id="linreg-modal" class="modal hide fade in" style="display: none; ">  
  <div class="modal-body"> 
    <h5>Simple Linear Regression</h5>  
    <p> Simple linear regression is the process of finding the line
      which "best fits" a scatterplot.  The definition of best fit here
      is the line which minimizes the sum of the errors squared. One
      application of linear regression is for prediction.</p>
    <p>For example a property management firm can model the relationship between
      the rental price of a unit and the total square feet with linear regression
      (assuming that is the underlying relationship) and use the model to price units.
    </p>
    <a href="http://en.wikipedia.org/wiki/Linear_regression">For more information on simple linear regression</a>    
  </div>
  <div class="modal-footer">    
    <a href="#" class="btn" data-dismiss="modal">Close</a>  
  </div>  
</div>


<div class="leaderboard results">  
  <div class="row-fluid">
    <div class="span5">
      <table cellpadding="10">
        <tr><td data-toggle="modal" href="#reg-line-modal" class="stat-label-modal" >Regression Line:</td><td id="reg_line"></td></tr>
        <tr><td data-toggle="modal" href="#correlation-modal" class="stat-label-modal" >Correlation:</td><td id="corr"></td></tr>
      </table>
      <table>
        <tr><td style="padding-top: 25px;"><h4>Predict Response Values</h4> </td></tr>   
      </table>
      <table>  
        <tr><td> Y-value:</td> <td id="predicted_y"></td></tr>
        <tr><td>X-value</td><td> <input type="text" style = "width:40px;" id="x_value"></td></tr>
        <tr><td><button type="button" class="btn btn-primary" id="predict-button">Predict</button></td></tr>
      </table>
    </div>
    <div class="span6 graph">
    </div>
  </div>
</div>

<div class="form-actions">  
  <button type="button" class="btn btn-primary" id="compute-button">Compute</button>
</div>  

<div class="row-fluid">  
  <div class="span12">
    <form class="form-horizontal">  
      <fieldset>
        <div class="row offset1"><h4 data-toggle="modal" href="#linreg-modal" class="title-label-modal" >Simple Linear Regresion</h4></div>
        <div class="row offset1" style="padding: 20px; margin-left: 50px; padding-bottom: 30px;" >
          <div class="span10">
            Enter the data sets
          </div>  
        </div>   

        <div class="control-group">
          <label class="control-label" for="textarea2">Response Values</label>
          <div class="controls">  
            <textarea class="input-xlarge" id="textarea2" rows="3">12, 20, 1, 7, 6, 25, 37, -33, 12, 10, 17, 7, 18, 1, 0, -17, -15, 19, -7, -6, 28, -8, 45, 35, 31</textarea>  
          </div>
        </div>

        <div class="control-group">  
          <label class="control-label" for="textarea1">Predictor Values</label>  
          <div class="controls">  
            <textarea class="input-xlarge" id="textarea1" rows="3">40, 57, 19, 37, 34, 63, 93, -41, 47, 41, 68, 38, 49, 11, 16, -12, -11, 59, 11, 11, 79, -6, 101, 90, 79</textarea>  
          </div>
        </div>  
      </fieldset>
    </form> 
  </div>
</div>
